<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trilho Configurador</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="trilho-configurator-clean.css">
</head>
<body>
        <div class="app-container">
        <!-- Botão de menu mobile -->
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
        </button>
        
        <!-- Overlay para fechar sidebar -->
        <div class="sidebar-overlay" id="sidebar-overlay"></div>
        
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="header-logo">
                    <img src="./logo aparato.png" alt="Logo Aparato" class="logo-image">
                </div>
                <div class="header-actions">
                    <div class="action-group">
                        <button id="load-btn" class="btn btn-secondary btn-icon" title="Carregar">
                            <i class="fas fa-upload"></i>
                        </button>
                        <button id="save-btn" class="btn btn-primary btn-icon" title="Salvar">
                            <i class="fas fa-save"></i>
                        </button>
                    </div>
                    <div class="action-divider"></div>
                    <div class="action-group">
                        <button id="clear-storage-btn" class="btn btn-warning btn-icon" title="Limpar">
                            <i class="fas fa-trash"></i>
                        </button>
                    </div>
                    <div class="action-divider"></div>
                    <div class="action-group">
                        <button id="export-btn" class="btn btn-secondary btn-icon" title="Salvar Json">
                            <i class="fas fa-download"></i>
                        </button>
                        <button id="save-to-unity-btn" class="btn btn-success btn-icon" title="Exportar Unity">
                            <i class="fas fa-gamepad"></i>
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar">
            <nav>
                <ul class="nav-list">
                    <li>
                        <button class="nav-item active" data-section="general">
                            <i class="fas fa-cog"></i>
                            <span>Geral</span>
                        </button>
                    </li>
                    <li>
                        <button class="nav-item" data-section="trilho">
                            <i class="fas fa-route"></i>
                            <span>Trilho</span>
                        </button>
                    </li>
                    <li>
                        <button class="nav-item" data-section="osc">
                            <i class="fas fa-broadcast-tower"></i>
                            <span>OSC</span>
                        </button>
                    </li>
                    <li>
                        <button class="nav-item" data-section="background">
                            <i class="fas fa-image"></i>
                            <span>Background</span>
                        </button>
                    </li>
                    <li>
                        <button class="nav-item" data-section="zones">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Zonas</span>
                        </button>
                    </li>
                    <li>
                        <button class="nav-item" data-section="export">
                            <i class="fas fa-download"></i>
                            <span>Exportar</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="app-content">
            <!-- Wizard Progress -->
            <div class="wizard-progress">
                <div class="wizard-steps">
                    <div class="wizard-step active" data-step="1">
                        <div class="step-number">1</div>
                        <div class="step-title">Projeto</div>
                        <div class="step-check"><i class="fas fa-check"></i></div>
                    </div>
                    <div class="wizard-step" data-step="2">
                        <div class="step-number">2</div>
                        <div class="step-title">Trilho</div>
                        <div class="step-check"><i class="fas fa-check"></i></div>
                    </div>
                    <div class="wizard-step" data-step="3">
                        <div class="step-number">3</div>
                        <div class="step-title">OSC</div>
                        <div class="step-check"><i class="fas fa-check"></i></div>
                    </div>
                    <div class="wizard-step" data-step="4">
                        <div class="step-number">4</div>
                        <div class="step-title">Background</div>
                        <div class="step-check"><i class="fas fa-check"></i></div>
                    </div>
                    <div class="wizard-step" data-step="5">
                        <div class="step-number">5</div>
                        <div class="step-title">Zonas</div>
                        <div class="step-check"><i class="fas fa-check"></i></div>
                    </div>
                    <div class="wizard-step" data-step="6">
                        <div class="step-number">6</div>
                        <div class="step-title">Exportar</div>
                        <div class="step-check"><i class="fas fa-check"></i></div>
                    </div>
                </div>
            </div>

            <!-- Wizard Navigation -->
            <div class="wizard-navigation">
                <button id="wizard-prev" class="btn btn-secondary" disabled>
                    <i class="fas fa-arrow-left"></i>
                    Anterior
                </button>
                <button id="wizard-next" class="btn btn-primary">
                    Próximo
                    <i class="fas fa-arrow-right"></i>
                </button>
                <button id="wizard-finish" class="btn btn-success" style="display: none;">
                    <i class="fas fa-download"></i>
                    Exportar Configuração
                </button>
            </div>

            <!-- General Section -->
            <section id="general-section" class="content-section wizard-step-content active" data-step="1">
                <div class="section-header">
                    <h2 class="section-title">Informações do Projeto</h2>
                    <div class="section-actions">
                        <button class="btn btn-sm btn-secondary reset-section-btn" id="reset-general" data-section="general">
                            <i class="fas fa-undo"></i>
                            Resetar
                        </button>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Dados do Projeto</h3>
                    <div class="form-group">
                        <label class="form-label">Nome do Projeto *</label>
                        <input type="text" id="project-name" class="form-input" placeholder="Digite o nome do projeto" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Descrição</label>
                        <textarea id="project-description" class="form-textarea" placeholder="Descrição detalhada do projeto" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Informações do Evento</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Local do Evento *</label>
                            <input type="text" id="event-location" class="form-input" placeholder="Ex: Museu de Arte Moderna" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Data do Evento</label>
                            <input type="date" id="event-date" class="form-input">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Cliente *</label>
                            <input type="text" id="client-name" class="form-input" placeholder="Nome da empresa/cliente" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Responsável Técnico</label>
                            <input type="text" id="technical-responsible" class="form-input" placeholder="Nome do responsável">
                        </div>
                    </div>
                </div>

                <div class="form-section" id="system-info-section" style="display: none;">
                    <h3>Configurações do Sistema</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Data de Criação</label>
                            <input type="text" id="creation-date" class="form-input" readonly style="background: var(--bg-tertiary); color: var(--text-secondary);">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Última Modificação</label>
                            <input type="text" id="last-modified" class="form-input" readonly style="background: var(--bg-tertiary); color: var(--text-secondary);">
                        </div>
                    </div>
                </div>
            </section>

            <!-- Trilho Section -->
            <section id="trilho-section" class="content-section wizard-step-content" data-step="2">
                <div class="section-header">
                    <h2 class="section-title">Configuração do Trilho</h2>
                    <div class="section-actions">
                        <button class="btn btn-sm btn-secondary reset-section-btn" id="reset-trilho" data-section="trilho">
                            <i class="fas fa-undo"></i>
                            Resetar
                        </button>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Dimensões Físicas do Trilho</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Comprimento Total (cm) *</label>
                            <div class="slider-container">
                                <input type="range" id="physical-max-cm-slider" class="form-slider" min="100" max="2000" step="1" value="600">
                                <input type="number" id="physical-max-cm" class="form-input" placeholder="600" step="0.1" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Posição Inicial (cm)</label>
                            <div class="slider-container">
                                <input type="range" id="physical-min-cm-slider" class="form-slider" min="0" max="100" step="1" value="0">
                                <input type="number" id="physical-min-cm" class="form-input" placeholder="0" step="0.1">
                            </div>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Altura da TV do Piso (cm)</label>
                            <div class="slider-container">
                                <input type="range" id="tv-height-from-floor-slider" class="form-slider" min="0" max="200" step="1" value="80">
                                <input type="number" id="tv-height-from-floor" class="form-input" placeholder="80" step="0.1">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Configuração da TV</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Modelo da TV</label>
                            <select id="tv-model" class="form-select">
                                <option value="42" selected>TV 42" (93,5cm x 52,5cm) - Principal</option>
                                <option value="55">TV 55" (121cm x 68,5cm) - Alternativa</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Orientação</label>
                            <select id="tv-orientation" class="form-select">
                                <option value="landscape">Paisagem (16:9)</option>
                                <option value="portrait" selected>Retrato (9:16)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Largura da Tela (cm)</label>
                            <input type="number" id="screen-width-cm" class="form-input" placeholder="Calculado automaticamente" step="0.1" readonly>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Altura da Tela (cm)</label>
                            <input type="number" id="screen-height-cm" class="form-input" placeholder="Calculado automaticamente" step="0.1" readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Resolução da Tela</label>
                            <select id="screen-resolution" class="form-select">
                                <option value="1920x1080" selected>1920x1080 (Full HD)</option>
                                <option value="2560x1440">2560x1440 (2K)</option>
                                <option value="3840x2160">3840x2160 (4K)</option>
                                <option value="custom">Personalizado</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Range de Pré-ativação (%)</label>
                            <div class="slider-container">
                                <input type="range" id="pre-activation-range-slider" class="form-slider" min="0" max="50" step="1" value="20">
                                <input type="number" id="pre-activation-range" class="form-input" placeholder="20" step="0.1">
                            </div>
                            <small class="form-help">Percentagem do trilho antes da ativação da zona (ex: 20% = 60cm em trilho de 300cm)</small>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Sensibilidade de Movimento</label>
                            <div class="slider-container">
                                <input type="range" id="movement-sensitivity-slider" class="form-slider" min="0.1" max="2.0" step="0.1" value="0.5">
                                <input type="number" id="movement-sensitivity" class="form-input" placeholder="0.5" step="0.1" min="0.1" max="2.0">
                            </div>
                            <small class="form-help">Velocidade de resposta do movimento (0.1 = lento, 2.0 = rápido)</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Suavização da Câmera</label>
                            <div class="slider-container">
                                <input type="range" id="camera-smoothing-slider" class="form-slider" min="1" max="20" step="1" value="5">
                                <input type="number" id="camera-smoothing" class="form-input" placeholder="5" step="1" min="1" max="20">
                            </div>
                            <small class="form-help">Suavidade do movimento da câmera (1 = rígido, 20 = muito suave)</small>
                        </div>
                    </div>
                </div>

            </section>


            <!-- OSC Section -->
            <section id="osc-section" class="content-section wizard-step-content" data-step="3">
                <div class="section-header">
                    <h2 class="section-title">Configuração OSC</h2>
                    <div class="section-actions">
                        <button class="btn btn-sm btn-secondary reset-section-btn" id="reset-osc" data-section="osc">
                            <i class="fas fa-undo"></i>
                            Resetar
                        </button>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Comunicação OSC</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Endereço OSC</label>
                            <input type="text" id="osc-address" class="form-input" placeholder="/unity">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Porta OSC</label>
                            <input type="number" id="osc-port" class="form-input" placeholder="9000" min="1024" max="65535">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="osc-valor-normalizado" class="form-checkbox">
                            Valor OSC Normalizado (0..1)
                        </label>
                    </div>
                </div>
            </section>

            <!-- Background Section -->
            <section id="background-section" class="content-section wizard-step-content" data-step="4">
                <div class="section-header">
                    <h2 class="section-title">Configuração de Background</h2>
                    <div class="section-actions">
                        <button class="btn btn-sm btn-secondary reset-section-btn" id="reset-background" data-section="background">
                            <i class="fas fa-undo"></i>
                            Resetar
                        </button>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Dimensões do Background</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Largura do Background (cm) *</label>
                            <input type="number" id="background-width-cm" class="form-input" placeholder="300" step="0.1" required>
                            <small class="form-help">Largura física da imagem de background impressa</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Altura do Background (cm) *</label>
                            <input type="number" id="background-height-cm" class="form-input" placeholder="200" step="0.1" required>
                            <small class="form-help">Altura física da imagem de background impressa</small>
                        </div>
                    </div>
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        <strong>Posicionamento e Ajustes Finos:</strong> As posições X/Y, opacidade, modo de exibição e outros ajustes visuais serão configurados na aplicação Unity com interface de edição visual.
                    </div>
                </div>

                <div class="form-section">
                    <h3>Upload e Configuração da Imagem</h3>
                    
                    <div class="form-group">
                        <label class="form-label">
                            <input type="checkbox" id="background-enabled" class="form-checkbox" checked>
                            Background Ativo
                        </label>
                    </div>
                    
                    <div class="form-group" id="background-upload-group" style="display: none;">
                        <label class="form-label">Arquivo de Imagem *</label>
                        <div class="file-upload-container">
                            <input type="file" id="background-image-upload" class="file-upload" accept="image/*" required>
                            <div class="file-info">
                                <span id="background-file-name">Nenhum arquivo selecionado</span>
                                <button type="button" id="background-remove-file" class="btn btn-sm btn-danger" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <small class="form-help">Formatos suportados: JPG, PNG, BMP. Tamanho recomendado: 4K ou superior para melhor qualidade.</small>
                    </div>
                    
                    <div class="alert alert-info" id="background-dimensions-alert">
                        <i class="fas fa-info-circle"></i>
                        <strong>Configure as dimensões do background primeiro</strong> para habilitar o upload da imagem.
                    </div>
                </div>

                <div class="form-section">
                    <h3>Simulação Visual</h3>
                    <div class="background-simulation">
                        <div class="simulation-info">
                            <div class="simulation-info-item">
                                <span class="info-label">Distância TV-Piso:</span>
                                <span class="info-value" id="simulation-tv-height">80cm</span>
                            </div>
                            <div class="simulation-info-item">
                                <span class="info-label">Dimensões Background:</span>
                                <span class="info-value" id="simulation-bg-size">300cm x 200cm</span>
                            </div>
                            <div class="simulation-info-item">
                                <span class="info-label">Dimensões TV:</span>
                                <span class="info-value" id="simulation-tv-size">52.5cm x 93.5cm</span>
                            </div>
                        </div>
                        <div class="simulation-container">
                            <div class="simulation-background" id="simulation-background">
                                <div class="simulation-tv-overlay" id="simulation-tv-overlay">
                                    <div class="simulation-tv-content">
                                        <span>TV</span>
                                    </div>
                                </div>
                                <div class="simulation-track" id="simulation-track">
                                    <div class="simulation-arrow" id="simulation-arrow">
                                        <i class="fas fa-arrows-alt-h"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Controles de Simulação -->
                <div class="form-section">
                    <h3>Controles de Simulação</h3>
                    <div class="simulation-controls" style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                        <button id="simulation-left" class="btn btn-primary">
                            <i class="fas fa-arrow-left"></i>
                            Esquerda
                        </button>
                        <button id="simulation-right" class="btn btn-primary">
                            <i class="fas fa-arrow-right"></i>
                            Direita
                        </button>
                        <button id="simulation-reset" class="btn btn-secondary">
                            <i class="fas fa-undo"></i>
                            Resetar
                        </button>
                    </div>
                </div>
            </section>

            <!-- Zones Section -->
            <section id="zones-section" class="content-section wizard-step-content" data-step="5">
                <div class="section-header">
                    <h2 class="section-title">Gerenciamento de Zonas</h2>
                    <div class="section-actions">
                        <button id="add-zone-btn" class="btn btn-primary">
                            <i class="fas fa-plus"></i>
                            Adicionar Zona
                        </button>
                        <button class="btn btn-sm btn-secondary reset-section-btn" id="reset-zones" data-section="zones">
                            <i class="fas fa-undo"></i>
                            Resetar
                        </button>
                        <button class="btn btn-sm btn-info" id="test-sticky-btn" title="Testar Sticky">
                            <i class="fas fa-magnet"></i>
                            Teste
                        </button>

                    </div>
                </div>
                
                
                <div id="zones-container" class="zones-container">
                    <!-- Zonas serão adicionadas aqui dinamicamente -->
                </div>
            </section>

            <!-- Export Section -->
            <section id="export-section" class="content-section wizard-step-content" data-step="6">
                <div class="section-header">
                    <h2 class="section-title">Exportação e Validação</h2>
                    <div class="section-actions">
                        <button class="btn btn-sm btn-info" id="validate-config-btn">
                            <i class="fas fa-check-circle"></i>
                            Validar Configuração
                        </button>
                    </div>
                </div>
                
                <div class="form-section">
                    <h3>Validação da Configuração</h3>
                    <div class="validation-container">
                        <div class="validation-status" id="validation-status">
                            <div class="validation-item">
                                <i class="fas fa-circle validation-pending"></i>
                                <span>Informações do Projeto</span>
                            </div>
                            <div class="validation-item">
                                <i class="fas fa-circle validation-pending"></i>
                                <span>Configuração do Trilho</span>
                            </div>
                            <div class="validation-item">
                                <i class="fas fa-circle validation-pending"></i>
                                <span>Background</span>
                            </div>
                            <div class="validation-item">
                                <i class="fas fa-circle validation-pending"></i>
                                <span>Zonas de Conteúdo</span>
                            </div>
                            <div class="validation-item">
                                <i class="fas fa-circle validation-pending"></i>
                                <span>Configuração OSC</span>
                            </div>
                        </div>
                        <div class="validation-summary" id="validation-summary">
                            <p>Clique em "Validar Configuração" para verificar se todos os campos obrigatórios estão preenchidos.</p>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Opções de Exportação</h3>
                    <div class="export-options">
                        <div class="export-option">
                            <h4>Exportar para Unity</h4>
                            <p>Gera um pacote ZIP com todos os arquivos necessários para o Unity, incluindo configuração JSON e assets.</p>
                            <button id="export-unity-btn" class="btn btn-primary">
                                <i class="fas fa-gamepad"></i>
                                Exportar para Unity
                            </button>
                        </div>
                        <div class="export-option">
                            <h4>Salvar Configuração JSON</h4>
                            <p>Salva apenas o arquivo de configuração JSON para uso posterior.</p>
                            <button id="export-json-btn" class="btn btn-secondary">
                                <i class="fas fa-file-code"></i>
                                Salvar JSON
                            </button>
                        </div>
                        <div class="export-option">
                            <h4>Backup Completo</h4>
                            <p>Cria um backup completo incluindo todos os assets e configurações.</p>
                            <button id="export-backup-btn" class="btn btn-warning">
                                <i class="fas fa-archive"></i>
                                Criar Backup
                            </button>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Informações do Pacote</h3>
                    <div class="package-info">
                        <div class="info-item">
                            <label>Nome do Pacote:</label>
                            <span id="package-name">trilho-config-YYYY-MM-DD</span>
                        </div>
                        <div class="info-item">
                            <label>Tamanho Estimado:</label>
                            <span id="package-size">Calculando...</span>
                        </div>
                        <div class="info-item">
                            <label>Arquivos Incluídos:</label>
                            <span id="package-files">0 arquivos</span>
                        </div>
                        <div class="info-item">
                            <label>Última Exportação:</label>
                            <span id="last-export">Nunca</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Instruções de Instalação</h3>
                    <div class="installation-steps">
                        <ol>
                            <li>Faça o download do pacote ZIP</li>
                            <li>Extraia o conteúdo na pasta <code>StreamingAssets</code> do seu projeto Unity</li>
                            <li>Abra o projeto Unity e execute a cena principal</li>
                            <li>O sistema carregará automaticamente a configuração</li>
                        </ol>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Zone Template -->
    <template id="zone-template">
        <div class="zone-item" data-zone-id="">
            <div class="zone-header">
                <div class="zone-position-indicator">
                    <span class="zone-position-text">0cm</span>
                    <h4 class="zone-title" contenteditable="true" data-placeholder="Clique para editar">Nova Zona</h4>
                </div>
                <div class="zone-actions">
                    <button class="zone-action-btn zone-collapse-btn" title="Colapsar/Expandir">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <button class="zone-action-btn zone-delete-btn" title="Excluir">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
            <div class="zone-content">
                <div class="zone-settings">
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Posição (cm)</label>
                            <div class="slider-container">
                                <input type="range" class="zone-position-slider" min="0" max="247.5" step="1" value="0">
                                <input type="number" class="zone-position-input form-input" placeholder="0" step="1" min="0" max="247.5">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Tipo de Conteúdo</label>
                            <select class="zone-type-input form-select">
                                <option value="0">Imagem</option>
                                <option value="1">Vídeo</option>
                                <option value="2">Texto</option>
                                <option value="3">Aplicação</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Padding (cm)</label>
                            <div class="slider-container">
                                <input type="range" class="zone-padding-slider" min="0" max="100" step="1" value="20">
                                <input type="number" class="zone-padding-input form-input" placeholder="20" step="1" min="0" max="100">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Padding de Entrada (cm)</label>
                            <div class="slider-container">
                                <input type="range" class="zone-enter-padding-slider" min="0" max="50" step="1" value="10">
                                <input type="number" class="zone-enter-padding-input form-input" placeholder="10" step="1" min="0" max="50">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Padding de Saída (cm)</label>
                            <div class="slider-container">
                                <input type="range" class="zone-exit-padding-slider" min="0" max="50" step="1" value="10">
                                <input type="number" class="zone-exit-padding-input form-input" placeholder="10" step="1" min="0" max="50">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Fade In (segundos)</label>
                            <div class="slider-container">
                                <input type="range" class="zone-fadein-slider" min="0" max="5" step="0.1" value="1.0">
                                <input type="number" class="zone-fadein-input form-input" placeholder="1.0" step="0.1" min="0" max="5">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-label">Fade Out (segundos)</label>
                            <div class="slider-container">
                                <input type="range" class="zone-fadeout-slider" min="0" max="5" step="0.1" value="0.5">
                                <input type="number" class="zone-fadeout-input form-input" placeholder="0.5" step="0.1" min="0" max="5">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" class="zone-active-input form-checkbox">
                                Zona Ativa
                            </label>
                        </div>
                    </div>
                    
                    <!-- Upload de Arquivo com Preview -->
                    <div class="zone-content-file-group">
                        <label class="form-label">Arquivo de Conteúdo</label>
                        <div class="file-upload-container">
                            <input type="file" class="zone-content-file-upload" accept="image/*,video/*">
                            <div class="file-info">
                                <span class="zone-file-name">Nenhum arquivo selecionado</span>
                                <button type="button" class="zone-remove-file btn btn-sm btn-danger" style="display: none;">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>
                        <div class="zone-preview" style="display: none;">
                            <img class="zone-preview-image" alt="Preview">
                            <video class="zone-preview-video" controls style="display: none;">
                                <source src="" type="video/mp4">
                            </video>
                        </div>
                    </div>
                    
                    <!-- Configurações específicas por tipo -->
                    <div class="zone-type-settings">
                        <!-- Configurações de imagem -->
                        <div class="zone-image-settings">
                            <h5>Configurações de Imagem</h5>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Manter Proporção</label>
                                    <input type="checkbox" class="zone-maintain-aspect form-checkbox" checked>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Tamanho (px)</label>
                                    <div class="size-inputs">
                                        <input type="number" class="zone-size-width form-input" placeholder="1920" min="100" max="4000">
                                        <span>x</span>
                                        <input type="number" class="zone-size-height form-input" placeholder="1080" min="100" max="4000">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Configurações de vídeo -->
                        <div class="zone-video-settings">
                            <h5>Configurações de Vídeo</h5>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Reproduzir Automaticamente</label>
                                    <input type="checkbox" class="zone-play-on-awake form-checkbox">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Volume</label>
                                    <div class="slider-container">
                                        <input type="range" class="zone-volume-slider" min="0" max="1" step="0.1" value="1.0">
                                        <input type="number" class="zone-volume-input form-input" placeholder="1.0" step="0.1" min="0" max="1">
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Configurações de texto -->
                        <div class="zone-text-settings">
                            <h5>Configurações de Texto</h5>
                            <div class="form-group">
                                <label class="form-label">Texto</label>
                                <textarea class="zone-text-content form-textarea" placeholder="Digite o texto da zona"></textarea>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label">Tamanho da Fonte</label>
                                    <div class="slider-container">
                                        <input type="range" class="zone-fontsize-slider" min="12" max="120" step="1" value="72">
                                        <input type="number" class="zone-fontsize-input form-input" placeholder="72" min="12" max="120">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Cor do Texto</label>
                                    <input type="color" class="zone-text-color form-input" value="#000000">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Botão de Salvar Zona -->
                    <div class="zone-save-section">
                        <button class="zone-save-btn btn btn-primary">
                            <i class="fas fa-save"></i>
                            Salvar Zona
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <!-- Load Modal -->
    <div id="load-modal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Carregar Configuração</h3>
                <button id="close-modal" class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="form-section">
                <div class="form-group">
                    <label class="form-label">Selecionar Arquivo JSON</label>
                    <input type="file" id="load-json-file" accept=".json" class="form-input">
                </div>
                <div class="header-actions">
                    <button id="load-file-btn" class="btn btn-primary">Carregar</button>
                    <button id="cancel-load-btn" class="btn btn-secondary">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- JSZip para criar pacotes ZIP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="trilho-configurator.js"></script>
</body>
</html>
